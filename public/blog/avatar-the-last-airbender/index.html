<!doctype html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<title>Avatar: The Last Airbender - @joepope44</title>
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="generator" content="Hugo 0.72.0" /><meta itemprop="name" content="Avatar: The Last Airbender">
<meta itemprop="description" content="A TidyTuesday project modelling Avatar TV show scripts.">
<meta itemprop="datePublished" content="2020-08-11T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-08-11T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="577">
<meta itemprop="image" content="">



<meta itemprop="keywords" content="tidyverse," /><meta property="og:title" content="Avatar: The Last Airbender" />
<meta property="og:description" content="A TidyTuesday project modelling Avatar TV show scripts." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/blog/avatar-the-last-airbender/" />
<meta property="og:image" content="" />
<meta property="article:published_time" content="2020-08-11T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-08-11T00:00:00+00:00" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content=""/>

<meta name="twitter:title" content="Avatar: The Last Airbender"/>
<meta name="twitter:description" content="A TidyTuesday project modelling Avatar TV show scripts."/>
<meta name="twitter:site" content="@joepope44"/>
<link rel="stylesheet" href="/css/bundle.min.d9e04ae08c9b3049b766dbd4aeab7d862c5ea1d13679b621490e0f5df5507497.css" integrity="sha256-2eBK4IybMEm3ZtvUrqt9hixeodE2ebYhSQ4PXfVQdJc="><link rel="stylesheet" href="/css/add-on.css">
</head>

  <body>
    

<header id="site-header">
  <nav id="site-nav">
    <h1 class="nav-title">
      <a href="/" class="nav">
        
          Blog
        
      </a>
    </h1>
    <menu id="site-nav-menu" class="flyout-menu menu">
      
        
          
          <a href="/" class="nav link"><i class='fa fa-home'></i> Home</a>
        
      
        
          
          <a href="/about/" class="nav link"><i class='far fa-id-card'></i> About</a>
        
      
        
          
          <a href="/blog/" class="nav link"><i class='far fa-newspaper'></i> Blog</a>
        
      
        
          
          <a href="/categories/" class="nav link"><i class='fas fa-sitemap'></i> Categories</a>
        
      
        
          
          <a href="/contact/" class="nav link"><i class='far fa-envelope'></i> Contact</a>
        
      
      <a href="#share-menu" class="nav link share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
      <a href="#search-input" class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a>
    </menu>
    <a href="#search-input" class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
    <a href="#share-menu" class="nav share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
    <a href="#lang-menu" class="nav lang-toggle" lang="en">en</a>
    <a href="#site-nav" class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a>
  </nav>
  <menu id="search" class="menu"><input id="search-input" class="search-input menu"></input><div id="search-results" class="search-results menu"></div></menu>
  <menu id="lang-menu" class="flyout-menu menu">
  <a href="#" lang="en" class="nav link active">English (en)</a>
  
    
      
    
      
        <a href="/fr" lang="fr" class="nav no-lang link">Français (fr)</a>
      
    
      
        <a href="/pl" lang="pl" class="nav no-lang link">Polski (pl)</a>
      
    
      
        <a href="/pt" lang="pt" class="nav no-lang link">Português (pt)</a>
      
    
      
        <a href="/de" lang="de" class="nav no-lang link">Deutsche (de)</a>
      
    
      
        <a href="/es" lang="es" class="nav no-lang link">Española (es)</a>
      
    
      
        <a href="/zh-cn" lang="zh-cn" class="nav no-lang link">中文 (zh-cn)</a>
      
    
      
        <a href="/zh-tw" lang="zh-tw" class="nav no-lang link">中文 (zh-tw)</a>
      
    
      
        <a href="/ja" lang="ja" class="nav no-lang link">日本語 (ja)</a>
      
    
      
        <a href="/nl" lang="nl" class="nav no-lang link">Nederlands (nl)</a>
      
    
  
</menu>

  
    <menu id="share-menu" class="flyout-menu menu">
      <h1>Share Post</h1>
      




  
    
    <a href="//twitter.com/share?text=Avatar%3a%20The%20Last%20Airbender&amp;url=%2fblog%2favatar-the-last-airbender%2f" target="_blank" rel="noopener" class="nav share-btn twitter">
        <p>Twitter</p>
      </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=%2fblog%2favatar-the-last-airbender%2f" target="_blank" rel="noopener" class="nav share-btn facebook">
        <p>Facebook</p>
        </a>
  

  
    <a href="//www.reddit.com/submit?url=%2fblog%2favatar-the-last-airbender%2f&amp;title=Avatar%3a%20The%20Last%20Airbender" target="_blank" rel="noopener" class="nav share-btn reddit">
          <p>Reddit</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=%2fblog%2favatar-the-last-airbender%2f&amp;title=Avatar%3a%20The%20Last%20Airbender" target="_blank" rel="noopener" class="nav share-btn linkedin">
            <p>LinkedIn</p>
          </a>
  

  
        <a href="//www.pinterest.com/pin/create/button/?url=%2fblog%2favatar-the-last-airbender%2f&amp;description=Avatar%3a%20The%20Last%20Airbender" target="_blank" rel="noopener" class="nav share-btn pinterest">
          <p>Pinterest</p>
        </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by Joseph%20Pope&amp;body=%2fblog%2favatar-the-last-airbender%2f" target="_blank" class="nav share-btn email" data-proofer-ignore>
          <p>Email</p>
        </a>
  


    </menu>
  
</header>

    <div id="wrapper">
      <section id="site-intro" >
  <a href="/"><img src="/img/main/joe.jpg" class="hexagon" width="100" alt="" /></a>
  <header>
    <h1>Data Science :: Analytics :: Visualizations</h1>
  </header>
  <main>
    <p>By Joseph Pope</p>
  </main>
  
    <footer>
      <ul class="socnet-icons">
        

        <li><a href="//github.com/joepope44" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>

<li><a href="//stackoverflow.com/users/1908833" target="_blank" rel="noopener" title="Stack Overflow" class="fab fa-stack-overflow"></a></li>









<li><a href="//linkedin.com/in/josephwpope" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>















<li><a href="//twitter.com/joepope44" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>











<li><a href="mailto:joepope44@gmail.com" target="_blank" title="Email" class="far fa-envelope"></a></li>

      </ul>
    </footer>
  
</section>

      <main id="site-main">
        
  <article class="post">
    <header>
  <div class="title">
    
      <h2><a href="/blog/avatar-the-last-airbender/">Avatar: The Last Airbender</a></h2>
    
    
      <p>A TidyTuesday project modelling Avatar TV show scripts.</p>
    
  </div>
  <div class="meta">
    <time datetime="2020-08-11 00:00:00 &#43;0000 UTC">August 11, 2020</time>
    <p>Joseph Pope</p>
    <p>3-Minute Read</p>
  </div>
</header>

    <div id="socnet-share">
      




  
    
    <a href="//twitter.com/share?text=Avatar%3a%20The%20Last%20Airbender&amp;url=%2fblog%2favatar-the-last-airbender%2f" target="_blank" rel="noopener" class="nav share-btn twitter">
        <p>Twitter</p>
      </a>
  

  
      <a href="//www.facebook.com/sharer/sharer.php?u=%2fblog%2favatar-the-last-airbender%2f" target="_blank" rel="noopener" class="nav share-btn facebook">
        <p>Facebook</p>
        </a>
  

  
    <a href="//www.reddit.com/submit?url=%2fblog%2favatar-the-last-airbender%2f&amp;title=Avatar%3a%20The%20Last%20Airbender" target="_blank" rel="noopener" class="nav share-btn reddit">
          <p>Reddit</p>
        </a>
  

  
        <a href="//www.linkedin.com/shareArticle?url=%2fblog%2favatar-the-last-airbender%2f&amp;title=Avatar%3a%20The%20Last%20Airbender" target="_blank" rel="noopener" class="nav share-btn linkedin">
            <p>LinkedIn</p>
          </a>
  

  
        <a href="//www.pinterest.com/pin/create/button/?url=%2fblog%2favatar-the-last-airbender%2f&amp;description=Avatar%3a%20The%20Last%20Airbender" target="_blank" rel="noopener" class="nav share-btn pinterest">
          <p>Pinterest</p>
        </a>
  

  
        <a href="mailto:?subject=Check%20out%20this%20post%20by Joseph%20Pope&amp;body=%2fblog%2favatar-the-last-airbender%2f" target="_blank" class="nav share-btn email" data-proofer-ignore>
          <p>Email</p>
        </a>
  


    </div>
    <div class="content">
      <a href="/blog/avatar-the-last-airbender/" class="image" style="--bg-image: url('/img/2020/tidytuesday/avatar.jpg');">
    <img src="/img/2020/tidytuesday/avatar.jpg" alt="">
  </a>
      


<p>Today we are looking at text data from the scripts for the TV show ‘Avatar: The Last Airbender’.</p>
<p>I decided to see if certain characters that dominate a show, based on their word count, affects the ratings in a postive or negative way. It would be interesting to incorporate screen time as well, but all I have here is word count.</p>
<div id="setup" class="section level2">
<h2>Setup</h2>
<p>First we setup our enivronment and load the dataset.</p>
<pre class="r"><code>library(tidytuesdayR)
library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.2     ✓ purrr   0.3.4
## ✓ tibble  3.0.1     ✓ dplyr   1.0.0
## ✓ tidyr   1.1.0     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ───────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(knitr)
library(kableExtra)</code></pre>
<pre><code>## 
## Attaching package: &#39;kableExtra&#39;</code></pre>
<pre><code>## The following object is masked from &#39;package:dplyr&#39;:
## 
##     group_rows</code></pre>
<pre class="r"><code>knitr::opts_chunk$set(
    echo = TRUE,
    fig.height = 5,
    fig.width = 8,
    message = FALSE,
    warning = FALSE,
    dpi = 180
)</code></pre>
<p>Load the data</p>
<pre class="r"><code>avatar &lt;- readr::read_csv(&#39;https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-08-11/avatar.csv&#39;)</code></pre>
</div>
<div id="data-manipulation-and-cleanup" class="section level2">
<h2>Data Manipulation and Cleanup</h2>
<p>Next we create dataframes to capture the text data for all characters, the totals per episode, then join them.</p>
<pre class="r"><code>word_counts &lt;- avatar %&gt;% 
  filter(character != &quot;Scene Description&quot;) %&gt;% # removes non-character speaking text
  select(book, book_num, chapter_num, character, character_words, imdb_rating) %&gt;% 
  mutate(word_counts = str_count(character_words)) %&gt;% 
  group_by(book_num, chapter_num, character) %&gt;% 
  summarise(word_counts = sum(word_counts), 
            rating = mean(imdb_rating)) %&gt;% 
  ungroup()


word_totals &lt;- word_counts %&gt;% 
  group_by(book_num, chapter_num) %&gt;% 
  summarise(total_words = sum(word_counts)) %&gt;% 
  ungroup()

df &lt;- word_counts %&gt;% 
  left_join(word_totals) %&gt;% 
  mutate(word_perc = word_counts / total_words) %&gt;% 
  arrange(book_num, chapter_num, -word_perc)</code></pre>
<p>Create list of top 6 characters by word count. We will only plot these characters as they have the most words compared to the other characters.</p>
<pre class="r"><code>top_chars &lt;- df %&gt;% 
  group_by(character) %&gt;% 
  summarise(char_word_counts = sum(word_counts)) %&gt;% 
  arrange(desc(char_word_counts)) %&gt;% 
  top_n(6, char_word_counts) %&gt;% 
  pull(character)</code></pre>
<p>Below is a first crack. I create a scatter plot and then use stat_ellipse to get a rough idea of the distribution and centroid for each character. Each point is an episode. I ignore which book/season of the series is involved, but it might be interesting to see how character’s evolve over the arc of the entire series.</p>
<pre class="r"><code>df %&gt;% 
  filter(character %in% top_chars) %&gt;% 
  ggplot(aes(rating, word_perc)) +
  geom_point() +
  stat_ellipse() +
  facet_wrap(~ character)</code></pre>
<p><img src="/blog/2020-08-11-avatar-the-last-airbender_files/figure-html/unnamed-chunk-5-1.png" width="1440" /></p>
<p>Now let’s make the plot pretty.</p>
<blockquote>
<p>Notice we can use the group.colors named list to dictate who gets assigned which color. Neat!</p>
</blockquote>
<pre class="r"><code>library(ggtext)

group.colors &lt;- c(Sokka = &quot;#1C3F6E&quot;, Aang = &quot;#EFFC93&quot;, Katara = &quot;#0F2347&quot;, Iroh = &quot;#a10000&quot;, Zuko = &quot;#a10000&quot;, Toph = &quot;#80C271&quot;) 

p &lt;- df %&gt;% 
  filter(character %in% top_chars) %&gt;% 
  ggplot(aes(rating, word_perc)) +
  geom_point(aes(color = character), alpha = 1, show.legend = FALSE) + 
  stat_density_2d(alpha = .2, show.legend = FALSE) + 
  scale_color_manual(values = group.colors) +
  scale_y_continuous(labels = scales::percent_format(accuracy = 1)) +
  facet_wrap(~ character) + 
  theme_minimal() + 
  labs(
    x = &quot;IMDB Rating&quot;,
    y = &quot;&quot;,
    title = &quot;&lt;span style=&#39;color:#a10000&#39;&gt;**Zuko**&lt;/span&gt;-heavy Episodes Maintain High Ratings&quot;, 
    subtitle = &quot;Character Word Count / Total Word Count Per Each Episode&quot;, 
    caption = &quot;Joseph Pope | @joepope44&quot;
    ) + 
  theme(
    text = element_text(family = &quot;Verdana&quot;),
    panel.background = element_rect(fill = &quot;lightgrey&quot;), 
    panel.grid = element_blank(),
    plot.title = element_markdown(size = 20),
    strip.text = element_text(face = &quot;bold&quot;)
    )

p</code></pre>
<p><img src="/blog/2020-08-11-avatar-the-last-airbender_files/figure-html/unnamed-chunk-6-1.png" width="1440" /></p>
<p>I use a density 2D plot to help show how the points are distributed.</p>
<p>I don’t think this came out quite as informative as I would have liked, but it is interesting to see that Zuko has several episodes where he is speaking the most out of all characters, and those all appear to have relatively high ratings.</p>
</div>

    </div>
    <footer>
      <div class="stats">
  
    <ul class="categories">
      
        
          <li><a class="article-terms-link" href="/categories/r/">R</a></li>
        
      
    </ul>
  
  
    <ul class="tags">
      
        
          <li><a class="article-terms-link" href="/tags/tidyverse/">tidyverse</a></li>
        
      
    </ul>
  
</div>

    </footer>
  </article>
  
    
  <article class="post">
    
    <div>
      <h2 id="say-something">Say Something</h2>
        <form id="comment-form" class="new-comment" method="POST">
          
          <h3 class='reply-notice hidden'>
            <span class='reply-name'></span>
          </h3>

          
          <input type="hidden" name="options[entryId]" value="f5d3f83b65c60346cc91b8caa42f045b">
          <input type='hidden' name='fields[replyThread]' value=''>
          <input type='hidden' name='fields[replyID]' value=''>
          <input type='hidden' name='fields[replyName]' value=''>

          
          <input required name='fields[name]' type='text' placeholder='Your Name'>
          <input name='fields[website]' type='text' placeholder='Your Website'>
          <input required name='fields[email]' type='email' placeholder='Your Email'>
          <textarea required name='fields[body]' placeholder='Your Message' rows='10'></textarea>

          
          

          
          <div class='submit-notice'>
            <strong class='submit-notice-text submit-success hidden'>Thanks for your comment! It will be shown on the site once it has been approved.</strong>
            <strong class='submit-notice-text submit-failed hidden'>Sorry, there was an error with your submission. Please make sure all required fields have been completed and try again.</strong>
          </div>

          
          <input type='submit' value='Submit' class='button'>
          <input type='submit' value='Submitted' class='hidden button' disabled>
          <input type='reset' value='Reset' class='button'>
        </form>
    </div>

    
    <div>
      <h2>Comments</h2><p>Nothing yet.</p>
      
    </div>
  </article>


  
  <div class="pagination">
    
    
      <a href="/blog/coffee-ratings/" class="button right"><span>Coffee Ratings</span></a>
    
  </div>

      </main>
      <section id="site-sidebar">
  
    <section id="recent-posts">
      <header>
        <h1>Recent Posts</h1>
      </header>
      
      <article class="mini-post">
          <a href="/blog/avatar-the-last-airbender/" class="image" style="--bg-image: url('/img/2020/tidytuesday/avatar.jpg');">
    <img src="/img/2020/tidytuesday/avatar.jpg" alt="">
  </a>
        <header>
          <h2><a href="/blog/avatar-the-last-airbender/">Avatar: The Last Airbender</a></h2>
          <time class="published" datetime="2020-08-11 00:00:00 &#43;0000 UTC">August 11, 2020</time>
        </header>
      </article>
      
      <article class="mini-post">
          <a href="/blog/coffee-ratings/" class="image" style="--bg-image: url('/img/2020/tidytuesday/small_coffee.jpg');">
    <img src="/img/2020/tidytuesday/small_coffee.jpg" alt="Giant Cup O&#39; Joe">
  </a>
        <header>
          <h2><a href="/blog/coffee-ratings/">Coffee Ratings</a></h2>
          <time class="published" datetime="2020-07-07 00:00:00 &#43;0000 UTC">July 7, 2020</time>
        </header>
      </article>
      
      
    </section>
  

  
    
      <section id="categories">
        <header>
          <h1><a href="/categories">categories</a></h1>
        </header>
        <ul>
          
          
          <li>
              <a href="/categories/r/">r<span class="count">2</span></a>
          
          </li>
        </ul>
      </section>
    
  

  
    <section id="mini-bio">
      <header>
        <h1>About</h1>
      </header>
      <p>BI and Data Science Content</p>
      <footer>
        <a href="/about" class="button">Learn More</a>
      </footer>
    </section>
  
</section>

      <footer id="site-footer">
  
      <ul class="socnet-icons">
        

        <li><a href="//github.com/joepope44" target="_blank" rel="noopener" title="GitHub" class="fab fa-github"></a></li>

<li><a href="//stackoverflow.com/users/1908833" target="_blank" rel="noopener" title="Stack Overflow" class="fab fa-stack-overflow"></a></li>









<li><a href="//linkedin.com/in/josephwpope" target="_blank" rel="noopener" title="LinkedIn" class="fab fa-linkedin"></a></li>















<li><a href="//twitter.com/joepope44" target="_blank" rel="noopener" title="Twitter" class="fab fa-twitter"></a></li>











<li><a href="mailto:joepope44@gmail.com" target="_blank" title="Email" class="far fa-envelope"></a></li>

      </ul>
  
  <p class="copyright">
    © 2020 @joepope44
      <br>
    Theme: <a href='https://github.com/pacollins/hugo-future-imperfect-slim' target='_blank' rel='noopener'>Hugo Future Imperfect Slim</a><br>A <a href='https://html5up.net/future-imperfect' target='_blank' rel='noopener'>HTML5 UP port</a> | Powered by <a href='https://gohugo.io/' title='0.72.0' target='_blank' rel='noopener'>Hugo</a>
  </p>
</footer>
<a id="back-to-top" href="#" class="fas fa-arrow-up fa-2x"></a>

      <script src="/js/highlight.js"></script>
    
    <script>hljs.initHighlightingOnLoad();</script><script src="/js/bundle.min.19fc9311fde10ff75d46a07056c1a78674224ea5da06e675f5b601bb20eb7594.js" integrity="sha256-GfyTEf3hD/ddRqBwVsGnhnQiTqXaBuZ19bYBuyDrdZQ="></script>
    <script src="/js/add-on.js"></script>
    </div>
  </body>
</html>
